{% extends "template.html" %}

{% block head %}
{% include "ptt/head.html" %}
<title>PTT Scraper</title>
<script src="{{ url_for('static',filename='ptt/ptt_ajax_load.js') }}"></script>
<script src="{{ url_for('static',filename='ptt/ptt_ajax_post.js') }}"></script>
<script src="{{ url_for('static',filename='ptt/ptt_ajax_search.js') }}"></script>
<script src="{{ url_for('static',filename='ptt/ptt_hot.js') }}"></script>
<script src="{{ url_for('static',filename='ptt/ptt_page.js') }}"></script>
<script src="{{ url_for('static',filename='ptt/ptt_ajax.js') }}"></script>

{% endblock %}

{% block body %}
<div class="row col-10 my-2 mx-auto g-2">
    <div class="col-3">
        <form class="mx-1" id="ptt_form" onsubmit="ajax_post();return false;">
            <div class="form-floating my-1">
                <input class="form-control" type="text" id="board" v-model="prms.board">
                <label for="board">Board</label>
            </div>
            <div class="form-floating my-1">
                <input class="form-control" type="text" id="keyword" v-model="prms.keyword">
                <label for="keyword">Keyword</label>
            </div>
            <div class="form-floating my-1">
                <input class="form-control" type="text" id="author" v-model="prms.author">
                <label for="author">Author</label>
            </div>
            <div class="form-floating my-1">
                <input class="form-control" type="number" min=-100 max=100 step=5 id="push" v-model="prms.push">
                <label for="push">Push</label>
            </div>
            <div class="form-floating my-1">
                <input class="form-control" value=10 type="number" min=10 max=1000 step=10 id="count" v-model="prms.count">
                <label for="count">Count</label>
            </div>
            <div class="btn-toolbar mx-auto" id="btn_click">
                <input class="justify-content-center col me-1 btn-group btn btn-primary" type="submit" value="Search">
                <input class="justify-content-center col btn-group btn btn-secondary" type="button" value="Reset"
                    @click="clear">
            </div>
        </form>
    </div>
    <div class="col-9 my-1 mx-auto">
        <div class="card bg-dark text-light">
            <table class="table table-dark table-hover table-striped my-0 py-1">
                <thead id="get_header">
                    <tr v-if="show">
                        <th class="col-1 text-end">#</th>
                        <th class="col-2">Board</th>
                        <th class="col">Title</th>
                        <th class="col text-end">Users</th>
                        <th class="col text-end">Users %</th>
                    </tr>
                </thead>
                <thead id="post_header">
                    <tr v-if="show">
                        <th class="col-1 text-end">#</th>
                        <th class="col-1 text-end">Hot</th>
                        <th class="col">Title</th>
                        <th class="col-1">Author</th>
                        <th class="col-1">Date</th>
                    </tr>
                </thead>
                <tbody id="ajax_board">
                </tbody>
            </table>
        </div>
        <div class="mt-1">
            <ul id="ajax_pagination" class="pagination offset-1 my-1">
            </ul>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue@3.0.7/dist/vue.global.prod.js"></script>

<script src="{{ url_for('static',filename='ptt/vue.js') }}"></script>

{% endblock %}